import{AnalizadorLexico}from"./analizador_lexico.js";async function cargarAutomataGramaticas(){if(window.gramaticaAutomata)return window.gramaticaAutomata;const a=await fetch("build/utils/matriz.txt");if(!a.ok)throw new Error(`Error al cargar el archivo: ${a.statusText}`);const r=parseAFDFile(await a.text());return window.gramaticaAutomata=r,r}function parseAFDFile(a){const r=a.split("\n").filter((a=>""!==a.trim())),t=[];for(let a=0;a<r.length;a++){const i=r[a].split(",");if(258!==i.length)throw new Error(`La línea ${a+1} no tiene 258 columnas.`);const o=i.map((a=>parseInt(a.trim())));if(o.some((a=>isNaN(a))))throw new Error(`Valores inválidos en la línea ${a+1}.`);t.push(o)}return t}async function instanciarAnalizadorLexicoGramaticas(a){try{const r=await cargarAutomataGramaticas();return new AnalizadorLexico(a,r)}catch(a){return console.error("No se pudo instanciar el analizador léxico de gramáticas:",a),null}}export{cargarAutomataGramaticas,parseAFDFile,instanciarAnalizadorLexicoGramaticas};